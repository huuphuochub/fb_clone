<main>
    <div class="nav">
        <div class="menu">
        <ul>
        <li routerLink="/profileme"><img src="{{profileuser?.avatar}}" alt="">{{profileuser?.username}}</li>
        <li><i class="bi bi-people-fill"></i>bạn bè</li>
        <li><i class="bi bi-clipboard-heart-fill"></i>kỷ niệm</li>
        <li><i class="bi bi-bookmark-check-fill"></i>đã lưu</li>
        <li><i class="fa-solid fa-users"></i>nhóm</li>
        <li><i class="bi bi-file-earmark-play"></i>video</li>
        <li><i class="fa-solid fa-shop"></i>marketplace</li>
        <li><i class="bi bi-journal-text"></i>bảng feed</li>
        <li><i class="bi bi-chevron-compact-down"></i>xem thêm</li>
    </ul>
        </div>
            <div class="group"> 
                <p>lối tắt của bạn </p>
                <ul>
                    <li><img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="">nhóm 1</li>
                    <li><img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="">nhóm 2</li>
                    <li><img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="">nhóm 3</li>
                    <li><img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="">nhóm 4</li>
                    <li><img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="">nhóm 5</li>
                    <li><img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="">nhóm 1</li>
                    <li><img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="">nhóm 1</li>
                    <li><img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="">nhóm 1</li>
                    <li><i class="bi bi-chevron-compact-down"></i>xem thêm</li>
                </ul>
            </div>
 
    </div>



    <div class="content">
                <!-- story -->

      <div style="overflow-x:scroll ;">
        <div class="story"  [ngStyle]="{'left.px': position}">
            <ul >
                <li routerLink="/stories/ăsasssdsads">
                        <img src="{{profileuser.avatar}}" alt="" class="anhdaidien" style="background-color: rgb(86, 83, 80);">
                        <video id="videotest"  controls  *ngIf="storyme">
                            <source  src="{{storyme!.linkvideo || ''}}" type="video/mp4">

                        </video>
                        <p> elon musk</p> <br>
                        <p>tạo tin</p>

                   
                    </li>
    
                    <li>
                        <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="" class="anhdaidien">
                        <video id="videotest"  controls>
                            <source type="video/mp4" src="https://res.cloudinary.com/dnjakwi6l/video/upload/v1724242933/5719324292638_ggy11x.mp4" >
                        
                        </video>
                    </li>
                    <li>
                        <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="" class="anhdaidien" style="background-color: rgb(86, 83, 80);">
                        <video id="videotest"  controls>
                            <source src="https://res.cloudinary.com/dnjakwi6l/video/upload/v1724242933/5719324292638_ggy11x.mp4" type="video/mp4">
                        
                        </video>
                    </li>           
                    <li>
                        <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="" class="anhdaidien" >
                        <video id="videotest"  controls>
                            <source src="https://res.cloudinary.com/dnjakwi6l/video/upload/v1724242933/5719324292638_ggy11x.mp4" type="video/mp4">
                        
                        </video>
                    </li>
                    <li>
                        <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="" class="anhdaidien">
                        <video id="videotest"  controls>
                            <source src="https://res.cloudinary.com/dnjakwi6l/video/upload/v1724242933/5719324292638_ggy11x.mp4" type="video/mp4">
                        </video>
                    </li>  
                    <li>
                        <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="" class="anhdaidien">
                        <video id="videotest"  controls>
                            <source src="https://res.cloudinary.com/dnjakwi6l/video/upload/v1724242933/5719324292638_ggy11x.mp4" type="video/mp4">
                        
                        </video>
                    </li>  
                     <li>
                        <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="" class="anhdaidien">
                        <video id="videotest"  controls>
                            <source src="https://res.cloudinary.com/dnjakwi6l/video/upload/v1724242933/5719324292638_ggy11x.mp4" type="video/mp4">
                        
                        </video>
                    </li>  
                     <li>
                        <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="" class="anhdaidien">
                        <video id="videotest"  controls>
                            <source src="https://res.cloudinary.com/dnjakwi6l/video/upload/v1724242933/5719324292638_ggy11x.mp4" type="video/mp4">
                        
                        </video>
                    </li>   
                    <li>
                        <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="" class="anhdaidien">
                        <video id="videotest"  controls>
                            <source src="https://res.cloudinary.com/dnjakwi6l/video/upload/v1724242933/5719324292638_ggy11x.mp4" type="video/mp4">
                        
                        </video>
                    </li>   
                    <li>
                        <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="" class="anhdaidien">
                        <video id="videotest"  controls>
                            <source src="https://res.cloudinary.com/dnjakwi6l/video/upload/v1724242933/5719324292638_ggy11x.mp4" type="video/mp4">
                        
                        </video>
                    </li>
                
    
            </ul>
      
       


       </div>
      </div>
       <div  *ngIf="trove" class="xemthems" (click)="quaylai()" ><i class="bi bi-arrow-left"></i></div>
       <div class="xemthem" (click)="togglePosition()"><i class="bi bi-arrow-right-short"></i></div>

        <!-- tạo bài -->

       <div class="addblog">
        <div class="blog">
            <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="">
            <input type="text" placeholder="bạn nghĩ gì" (click)="openformstory()">
        </div>
        <div class="optionblog">
            <ul>
                <li><i class="fa-solid fa-video"></i>video trực tiếp</li>
                <li><i class="fa-solid fa-image"></i>ảnh </li>
                <li><i class="fa-solid fa-face-smile"></i>cảm xúc/hoạt động</li>
            </ul>
        </div>
        <!-- bài đăng -->
       </div>

       <div class="newfeed" *ngFor="let post of allpostnewfeed, let i = index">
        <div class="thongtin">
            <div class="hinhanh">           
                <img src="{{post.avatar}}" alt="">
                <!-- <div class="hienonl"></div> -->
               
            </div>
            <div class="chitietthongtin">
                <div>
                    <p>{{post.username}}</p>
                    <h6>{{post.date}}</h6>
                </div>
            </div>
            <div class="luachon">
                <i class="bi bi-list"></i>
                <i class="fa-solid fa-xmark"></i>
            </div>
        </div>

        <div class="baidang">
            <p class="noidungbaidang">
                {{post.content}}
            </p>
            <div class="hinhanhbaidang" *ngIf="post.image !== '' ">
                <img src="{{post.image}}" alt="">
            </div>
            <div class="luotlike">
                <div class="cacicon">            
                    <p class="xemlike">{{post.totallike}} tương tác</p>
                </div>
                <div  class="xembl" (click)="mobinhluan(post.id_post,post.id_user)">
                    {{post.totalcomment}} bình luận
                </div>
                <div class="xemshare">
                    {{post.totalshare}} lượt chia sẻ
                </div>
            </div>
            <div class="like">
                
                <div class="handdlike" 
                (mouseenter)="onMouseEnter(i)" 
                (mouseleave)="onMouseLeave(i)">
               <div *ngIf="post.typelike === 0" (click)="handlelike(1,post.id_post,post.id_user)"> <i class="fa-regular fa-thumbs-up"  ></i>thích </div>
               <div *ngIf="post.typelike === 1" (click)="deletelike(post.id_post)"><i class="fa-solid fa-thumbs-up"  style="color: blue;" ></i>thích</div>
                <div *ngIf="post.typelike === 2" (click)="deletelike(post.id_post)"><i class="fa-solid fa-heart" style="color: red;" ></i>yêu thích</div>
                <div *ngIf="post.typelike === 3" (click)="deletelike(post.id_post)"><i class="fa-solid fa-face-laugh-beam" style="color: yellow;" ></i>haha</div>
               <div *ngIf="post.typelike === 4" (click)="deletelike(post.id_post)"> <i class="fa-solid fa-face-frown-open" style="color: orange;" ></i>buồn</div>
                <div *ngIf="post.typelike === 5" (click)="deletelike(post.id_post)"><i class="fa-solid fa-face-angry" style="color: #f25c2e;" ></i>phẫn nộ</div>
                <div *ngIf="post.typelike === 6" (click)="deletelike(post.id_post)"><i class="fa-solid fa-face-surprise" style="color: yellow;" ></i>wow</div>
                    <div class="allicon" *ngIf="post.ishover">
                        <i class="fa-solid fa-thumbs-up" style="color: blue;" (click)="handlelike(1,post.id_post,post.id_user)"></i>
                        <i class="fa-solid fa-heart" style="color: red;"  (click)="handlelike(2,post.id_post,post.id_user)"></i>
                        <i class="fa-solid fa-face-smile" style="color: yellow;"  (click)="handlelike(3,post.id_post,post.id_user)"></i>
                        <i class="fa-solid fa-face-frown" style="color:orange;"  (click)="handlelike(4,post.id_post,post.id_user)"></i>
                        <i class="fa-solid fa-face-angry" style="color: #f25c2e;"  (click)="handlelike(5,post.id_post,post.id_user)"></i>
                        <i class="fa-solid fa-face-surprise"  style="color: pink;"  (click)="handlelike(6,post.id_post,post.id_user)"></i>
                    </div></div>
                <div class="handdcmt" (click)="mobinhluan(post.id_post,post.id_user)"><i class="fa-regular fa-comment"></i> bình luận</div>
                <div class="handdshare"><i class="fa-regular fa-share-from-square"></i> chia sẻ</div>

            </div>


        </div>
        
    </div>
    <div style="height: 100px;"></div>


       <!-- <div class="newfeed">
        <div class="thongtin">
            <div class="hinhanh">           
                <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="" style="background-color: white;">
                <div class="hienonl"></div>

               
            </div>
            <div class="chitietthongtin">
                <div>
                    <p>name</p>
                    <h6>1 ngày trc</h6>
                </div>
            </div>
            <div class="luachon">
                <i class="bi bi-list"></i>
                <i class="fa-solid fa-xmark"></i>
            </div>
        </div>

        <div class="baidang">
            <div class="noidungbaidang">
                bài đăng này cực hay
            </div>
            <div class="hinhanhbaidang">
                <img src="https://i.imgur.com/qV5uuOz.jpg" alt="">
            </div>
            <div class="luotlike">
                <div class="cacicon">            
                    <i class="fa-solid fa-thumbs-up" style="color: blue;"></i>
                    <i class="fa-solid fa-heart" style="color: red;"></i>
                    <p class="xemlike">bạn và 40 người khác</p>
                </div>
                <div  class="xembl" (click)="mobinhluan()">
                    10 bình luận
                </div>
                <div class="xemshare">
                    9 luọt chia sẻ
                </div>
            </div>
            <div class="like">
                
                <div class="handdlike" 
                (mouseenter)="onMouseEnter()" 
                (mouseleave)="onMouseLeave()"><i class="fa-regular fa-thumbs-up"></i> thích
                    <div class="allicon" *ngIf="showPopup">
                        <i class="fa-regular fa-thumbs-up" style="color: blue;"></i>
                        <i class="fa-regular fa-heart" style="color: red;"></i>
                        <i class="fa-regular fa-face-smile" style="color: yellow;"></i>
                        <i class="fa-regular fa-face-frown" style="color:orange;"></i>
                        <i class="fa-regular fa-face-angry" style="color: blueviolet;"></i>
                        <i class="fa-regular fa-face-surprise"  style="color: pink;"></i>
                    </div></div>
                <div class="handdcmt" (click)="mobinhluan()"><i class="fa-regular fa-comment"></i> bình luận</div>
                <div class="handdshare"><i class="fa-regular fa-share-from-square"></i> chia sẻ</div>

            </div>


        </div>
     
    </div>




       <div class="newfeed">
        <div class="thongtin">
            <div class="hinhanh">           
                <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="" style="background-color: rgb(102, 103, 104);">

               
            </div>
            <div class="chitietthongtin">
                <div>
                    <p>name</p>
                    <h6>1 ngày trc</h6>
                </div>
            </div>
            <div class="luachon">
                <i class="bi bi-list"></i>
                <i class="fa-solid fa-xmark"></i>
            </div>
        </div>

        <div class="baidang">
            <div class="noidungbaidang">
                bài đăng này cực hay
            </div>
            <div class="hinhanhbaidang">
                <img src="https://i.imgur.com/qV5uuOz.jpg" alt="">
            </div>
            <div class="luotlike">
                <div class="cacicon">            
                    <i class="fa-solid fa-thumbs-up" style="color: blue;"></i>
                    <i class="fa-solid fa-heart" style="color: red;"></i>
                    <p class="xemlike">con ghệ của bạn và 213 người khác</p>
                </div>
                <div  class="xembl" (click)="mobinhluan()">
                    10 bình luận
                </div>
                <div class="xemshare">
                    9 luọt chia sẻ
                </div>
            </div>
            <div class="like">
                
                <div class="handdlike" 
                (mouseenter)="onMouseEnter()" 
                (mouseleave)="onMouseLeave()"><i class="fa-regular fa-thumbs-up"></i> thích
                    <div class="allicon" *ngIf="showPopup">
                        <i class="fa-regular fa-thumbs-up" style="color: blue;"></i>
                        <i class="fa-regular fa-heart" style="color: red;"></i>
                        <i class="fa-regular fa-face-smile" style="color: yellow;"></i>
                        <i class="fa-regular fa-face-frown" style="color:orange;"></i>
                        <i class="fa-regular fa-face-angry" style="color: blueviolet;"></i>
                        <i class="fa-regular fa-face-surprise"  style="color: pink;"></i>
                    </div>
                </div>
                <div class="handdcmt" (click)="mobinhluan()"><i class="fa-regular fa-comment"></i> bình luận</div>
                <div class="handdshare"><i class="fa-regular fa-share-from-square"></i> chia sẻ</div>

            </div>


        </div>
       </div> -->

       <div class="formbinhluan" *ngIf="openbinhluan">
        <div class="baivietcuaai">
            <i></i>
            <h4>bài viết của {{post.username}}</h4>
            <i class="fa-solid fa-xmark" (click)="dongbinhluan()"></i>

        </div>
        <div class="thongtinnguoivietbai">
             <div class="hinhvatennguoiviet">
                <div class="hinhanhnguoiviet">
                    <img src="{{post.avatar}}" alt="">

                </div>
                <div class="tennguoiviet">
                    <p>{{post.username}}</p>
                    <p>{{post.date}}</p>
                </div>
             </div>
               
                <div class="tuychon">
                    <i class="bi bi-list"></i>
                </div>
              
         </div>
         <div style="color: white;" class="tieude">
            <p>{{post.content}} </p>
        </div>
         <div class="anhbiaviet">
            <img src="{{post.image}}" alt="">
         </div>
         <div class="tuongtacbaiviet">
            <div class="camxucbaiviet">
                <i class="fa-solid fa-thumbs-up" style="color: blue;"></i>
                <i class="fa-solid fa-heart" style="color: red;"></i>
                <p class="xemlike">{{post.totallike}} </p>
            </div>
          
            <div class="sobinhluan">
                <p>{{post.totalcomment}} bình luận</p>
            </div>
            <div class="sochiase">
                <p>{{post.totalshare}} luọt chia sẻ</p>
            </div>
         </div>

         <!-- <div class="tuongtacnguoidung">
            <div class="camxuc">
                <div class="handdlike" 
                (mouseenter)="onMouseEnter()" 
                (mouseleave)="onMouseLeave()"><i class="fa-regular fa-thumbs-up"></i> thích
                    <div class="allicon" *ngIf="showPopup">
                        <i class="fa-regular fa-thumbs-up" style="color: blue;"></i>
                        <i class="fa-regular fa-heart" style="color: red;"></i>
                        <i class="fa-regular fa-face-smile" style="color: yellow;"></i>
                        <i class="fa-regular fa-face-frown" style="color:orange;"></i>
                        <i class="fa-regular fa-face-angry" style="color: blueviolet;"></i>
                        <i class="fa-regular fa-face-surprise"  style="color: pink;"></i>
                    </div>
                </div>
            </div>
            <div class="binhluan" (click)="mobinhluan()">
                <i class="fa-regular fa-comment"></i>  bình luận
            </div>
            <div class="chiase">
                <i class="fa-regular fa-share-from-square"></i>chia sẻ
            </div>
         </div> -->
         <div class="docbinhluan" *ngFor="let cmt of allcmt">
            <div class="hinhnguoibinhluan">
                <img src="{{cmt.avatar}}" alt="">
            </div>
            <div class="chitietbinhluan">
                <div class="ok">
                    <p>{{cmt.username}}</p>
                    <p>{{cmt.content}}</p>
                </div>
                
            </div>
            <div>

            </div>
         </div>
         <!-- <div class="docbinhluan">
            <div class="hinhnguoibinhluan">
                <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="">
            </div>
            <div class="chitietbinhluan">
                <div class="ok">
                    <p>name</p>
                    <p>bình luận aksjggggggg ádddddddddddd </p>
                </div>
                
            </div>
            <div>

            </div>
         </div> -->

    
         <div class="formdienbinhluan">
            <img src="https://i.pinimg.com/originals/9a/63/e1/9a63e148aaff53532b045f6d1f09d762.webp" alt="">
            <form [formGroup]="formcomment" (ngSubmit)="handlecomment()">

            <textarea placeholder="viết bình luận" formControlName="content"></textarea>
            <label for="file-upload" class="custom-file-upload">
                <i class="fa-solid fa-image" type="submit"></i> 
            </label>
            <input id="file-upload" type="file" />
            <button><i class="fa-solid fa-paper-plane"></i></button>

             </form>

         </div>
        </div>
    </div>




    
    <div class="noti">
        <div class="quangcao">
            <p>được tài trợ</p>
            <ul>
                <li class="thongtinquangcao"><img src="https://i.imgur.com/qV5uuOz.jpg" alt=""><h6>quảng cáo 1</h6></li>
                <li class="thongtinquangcao"><img src="https://i.imgur.com/qV5uuOz.jpg" alt=""><h6>quảng cáo 2</h6></li>
            </ul>
        </div>
        <div class="thongbao">
            <h5>sinh nhật</h5>
            <div class="thongtinsinhnhat">
                <i class="fa-solid fa-cake-candles"></i>
                <p>hôm nay là sinh nhật của hahaha</p>
            </div>            
        </div>
        <div class="banbedangonline" *ngIf="isfriendonline">
            <div class="tuychon">
                <div class="nguoilienhe">
                    <h6>người liên hệ</h6>

                </div>
                <div class="theli">
                    
                    <i class="bi bi-search"></i>
                    <i class="bi bi-list"></i>

                </div>

            </div>
            <div class="thongtinbanbe" *ngFor="let friend of isfriendonline" >
                <img src="{{friend.avatar}}" alt="" routerLink="/profileuser/{{friend._id}}">
                <div class="hienonl" *ngIf="friend.online === 1"></div>
                <p>{{friend.username}}</p>
            </div>
           
        </div> 
    </div>


    <div class="formaddstory" *ngIf="formstory">
        <div *ngIf="isloading">đang tạo tin, vui lòng đợi</div>
       <div *ngIf="!isloading">
        <h4>tạo tin</h4>
        <div>
           
            <label for="file-upload" class="custom-file-upload">
                <i class="fa-solid fa-image" type="submit"></i>video 
            </label>
            <input id="file-upload" type="file" (change)="onFileChange($event)" />
        </div>
        <div class="buttonstoty">
            <button (click)="handlepoststory()">đăng</button>
            <button (click)="closeformstory()">hủy</button>
        </div>
       </div>
        </div>

</main>
